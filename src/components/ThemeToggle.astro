<button
  id="theme-toggle"
  class="inline-flex items-center p-1 transition-colors duration-200 ease-in-out hover:opacity-80"
  aria-label="Toggle theme"
>
  <span class="sr-only">Toggle theme</span>
  <span
    id="theme-line"
    class="block w-4 h-0.5 transition-colors duration-300 ease-in-out"
    style="background: #18181b;"
  ></span>
  <style>
    html.dark #theme-line {
      background: #e4e4e7 !important;
    }
  </style>
</button>

<script>
  const setListener = () => {
    const button = document.getElementById("theme-toggle");
    button?.addEventListener("click", () => {
      document.documentElement.classList.toggle("dark");
    });
  };

  setListener();
  document.addEventListener("astro:after-swap", setListener);
</script>
