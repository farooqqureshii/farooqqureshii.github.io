---
// component import
import SpotifyNowPlaying from './SpotifyNowPlaying.astro';
---

<footer class="mt-12">
  <hr class="border-zinc-200 dark:border-zinc-700 mb-4" />
  <div class="flex justify-between text-xs text-zinc-500">
    <div class="flex flex-col gap-1">
      <span>crafted with care by farooq</span>
      <span id="calgary-time" class="opacity-0 transition-opacity duration-300">--:-- | calgary</span>
    </div>
    <SpotifyNowPlaying />
  </div>

  <script>
    function updateCalgaryTime() {
      const calgaryTime = new Date().toLocaleTimeString('en-CA', {
        timeZone: 'America/Edmonton',
        hour: '2-digit',
        minute: '2-digit',
        hour12: false
      });

      const el = document.getElementById('calgary-time');
      if (el) {
        el.innerHTML = `${calgaryTime} | <i>calgary</i>`;
        el.classList.remove('opacity-0');
      }
    }

    updateCalgaryTime();
    setInterval(updateCalgaryTime, 60000);
  </script>
</footer>
